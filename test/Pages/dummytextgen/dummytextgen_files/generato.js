$(document).ready(function(){$.fn.generator6();$(document).unload(function(){})});function generator6_unload(){$.fn.generator6.unload()}(function($){$.fn.generator6=function(){$.fn.generator6.initalState=fgs();var a=tt_getJSONCookie('state');if(a!=null){if(typeof a.radioTextname=="string"){var b=fgrt(a.radioTextname);if(b){$('.js-textname').each(function(){if(fgrt(this.id)==b){a.radioTextname=this.id;return false}})}}fss(a)}if(fgs().radioTextname=='idRadioTextname-ANY-lorem'){fit(null)}else{flt()}$('#idInputWords, #idInputParas').bind('keypress',function(e){return(fcdk(e.which)||fcak(e.which))});$('#idInputWords, #idInputParas').bind('keyup',function(e){fut();return true});$('#idRadioWords, #idRadioChars').bind('click',fut);$('#idTextname .js-textname').bind('click',flt);$('#idWordsUp').bind('click',function(e){fnud('idInputWords',100);fut();return false});$('#idWordsDown').bind('click',function(e){fnud('idInputWords',-100);fut();return false});$('#idParasUp').bind('click',function(e){fnud('idInputParas',1);fut();return false});$('#idParasDown').bind('click',function(e){fnud('idInputParas',-1);fut();return false});if($.browser.msie){$('#idWordsUp').bind('dblclick',function(e){fnud('idInputWords',100);fut();return false});$('#idWordsDown').bind('dblclick',function(e){fnud('idInputWords',-100);fut();return false});$('#idParasUp').bind('dblclick',function(e){fnud('idInputParas',1);fut();return false});$('#idParasDown').bind('dblclick',function(e){fnud('idInputParas',-1);fut();return false})}$('#idCheckPTags').bind('click',function(e){fut()});$('#idResetSettings').bind('click',function(e){fres();return false});$('#idFontFamily, #idFontStyle, #idFontWeight, #idFontSize, #idLetterSpacing, #idLineHeight, #idTextTransform, #idTextDecoration, #idTextAlign').bind('change',function(e){futCSS()});$('#idSelectAllText').bind('click',function(e){fsat();return false})};$.fn.generator6.unload=function(){tt_setJSONCookie('state',fgs(),null,'/')};$.fn.generator6.initalState=null;$.fn.generator6.textInfo={text:'no text.',chars:8,words:2,dotmap:[]};function fgs(){return{radioTextname:$('#idTextname .js-textname[checked]').attr('id'),inputWords:document.getElementById('idInputWords').value,radioWords:document.getElementById('idRadioWords').checked,radioChars:document.getElementById('idRadioChars').checked,inputParas:document.getElementById('idInputParas').value,checkPTags:document.getElementById('idCheckPTags').checked,fontFamily:document.getElementById('idFontFamily').selectedIndex,fontStyle:document.getElementById('idFontStyle').selectedIndex,fontWeight:document.getElementById('idFontWeight').selectedIndex,fontSize:document.getElementById('idFontSize').selectedIndex,letterSpacing:document.getElementById('idLetterSpacing').selectedIndex,lineHeight:document.getElementById('idLineHeight').selectedIndex,textTransform:document.getElementById('idTextTransform').selectedIndex,textDecoration:document.getElementById('idTextDecoration').selectedIndex,textAlign:document.getElementById('idTextAlign').selectedIndex}}function fss(a){if(a==undefined||a==null)return;var o;if(a.radioTextname!=undefined&&(o=document.getElementById(a.radioTextname)))o.checked=true;if(a.inputWords!=undefined)document.getElementById('idInputWords').value=a.inputWords;if(a.radioWords!=undefined&&a.radioWords)document.getElementById('idRadioWords').checked=true;if(a.radioChars!=undefined&&a.radioChars)document.getElementById('idRadioChars').checked=true;if(a.inputParas!=undefined)document.getElementById('idInputParas').value=a.inputParas;if(a.checkPTags!=undefined)document.getElementById('idCheckPTags').checked=a.checkPTags;if(a.fontFamily!=undefined)document.getElementById('idFontFamily').selectedIndex=a.fontFamily;if(a.fontStyle!=undefined)document.getElementById('idFontStyle').selectedIndex=a.fontStyle;if(a.fontWeight!=undefined)document.getElementById('idFontWeight').selectedIndex=a.fontWeight;if(a.fontSize!=undefined)document.getElementById('idFontSize').selectedIndex=a.fontSize;if(a.lineHeight!=undefined)document.getElementById('idLineHeight').selectedIndex=a.lineHeight;if(a.letterSpacing!=undefined)document.getElementById('idLetterSpacing').selectedIndex=a.letterSpacing;if(a.textTransform!=undefined)document.getElementById('idTextTransform').selectedIndex=a.textTransform;if(a.textDecoration!=undefined)document.getElementById('idTextDecoration').selectedIndex=a.textDecoration;if(a.textAlign!=undefined)document.getElementById('idTextAlign').selectedIndex=a.textAlign}function fgft(a){if(!a||(pos=a.indexOf('-'))==-1)return null;return a.substr(pos+1)}function fgrt(a){var b=fgft(a);if(!b||(pos=b.indexOf('-'))==-1)return null;return b.substr(pos+1)}function flt(){var b=fgft(fgs().radioTextname);if(!b)return;$.get('/text.php',{textname:b},function(a){fit(a)})}function fit(a){var b=document.getElementById('idTextStore');if(a==null)a=b.innerHTML;else b.innerHTML=a;var d={text:a,chars:a.length,words:0,dotmap:[]};for(var i=0;i<d.chars;i++){var c=a.charAt(i);if(c==' '||c=="\n")d.words++;if(c=='.')d.dotmap.push(i)}d.words++;$.fn.generator6.textInfo=d;fut()}function fut(){var a=document.getElementById('idInputWords');var b=document.getElementById('idRadioWords');var c=document.getElementById('idRadioChars');var d=document.getElementById('idInputParas');var e=document.getElementById('idCheckPTags');nWords=fpni(a.value,0,b.checked?9999:99999);if(a.value.length){a.value=nWords}nParas=fpni(d.value,0,99);if(d.value.length){d.value=nParas}var f={wordcount:b.checked?nWords:null,charcount:c.checked?nWords:null,paracount:nParas,ptags:e.checked?true:false};var g=fgt(f);document.getElementById('idTextPanel').innerHTML=g;futCSS()}function fgt(a){var b=$.fn.generator6.textInfo;var d='';if(a.charcount!=null){var e=a.charcount;for(;e>b.chars;e-=b.chars){d+=' ';d+=b.text}d+=b.text.substr(0,e)}if(a.wordcount!=null){var f=a.wordcount;for(;f>b.words;f-=b.words){d+=' ';d+=b.text}var i=0;for(;f>0&&i<b.chars;i++){var c=b.text.charAt(i);if(c==' '||c=="\n")f--}d+=b.text.substr(0,i)}var g='<p>';var h='</p>';if(a.ptags==true){g=g+'&lt;p&gt;';h='&lt;/p&gt;'+h}if(a.paracount!=null){d=d.replace(/([.!?])/g,'$1#');var j=d.split(/[#]/);var k=j.length;var l=d.length;var d=g;var m=false;var n=0;for(var i=0;i<k;i++){var o=Math.floor(l/a.paracount);if(m)d+=g;m=false;d+=j[i];l-=j[i].length;n+=j[i].length;if(a.paracount>1&&(n>=o||(i+1<k&&n+j[i+1].length>=o))){d+=h;m=true;a.paracount--;n=0}else{d+=' '}}}if(!m)d+=h;return d}function fnud(a,b){var c=document.getElementById(a);c.value=Math.max(1,(Math.floor((fpni(c.value)+b)/b)*b))}function fpni(s,a,b){if(a==undefined)a=0;if(b==undefined)b=100000;var n=parseInt('0'+s.replace(/[^0-9]/,''),10);return n<a?a:(n>b?b:n)}function fcdk(c){return(48<=c&&c<=57)}function fcak(c){return c==8||(35<=c&&c<=39)||(45<=c&&c<=46)}function futCSS(){var a=[{name:'font-family',id:'idFontFamily'},{name:'font-style',id:'idFontStyle'},{name:'font-weight',id:'idFontWeight'},{name:'font-size',id:'idFontSize'},{name:'letter-spacing',id:'idLetterSpacing'},{name:'line-height',id:'idLineHeight'},{name:'text-transform',id:'idTextTransform'},{name:'text-decoration',id:'idTextDecoration'},{name:'text-align',id:'idTextAlign'}];var b=$('#idTextPanel p');var c="<br />\n";for(var i=0;i<a.length;i++){var d=fgov(a[i].id);try{b.css(a[i].name,d)}catch(err){};c+=(a[i].name+': '+d+";<br />\n")}document.getElementById('idFauxCSS').innerHTML=c}function fgov(a){var b=document.getElementById(a);var c=b.selectedIndex!=-1?b.selectedIndex:0;return b.options[c].innerHTML}function fres(){if($.fn.generator6.initalState==null)return;var a=$.fn.generator6.initalState;a.radioTextname=fgs()['radioTextname'];fss(a);fut()}function fsat(){var a=document.getElementById('idTextPanel');var b=a;var c,range,doc,win;if((doc=b.ownerDocument)&&(win=doc.defaultView)&&typeof win.getSelection!='undefined'&&typeof doc.createRange!='undefined'&&(c=window.getSelection())&&typeof c.removeAllRanges!='undefined'){range=doc.createRange();range.selectNode(b);c.removeAllRanges();c.addRange(range)}else if(document.body&&typeof document.body.createTextRange!='undefined'&&(range=document.body.createTextRange())){range.moveToElementText(b);range.select()}}})(jQuery);